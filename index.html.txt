<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <title>策略列表页</title>
    <style>
        /* 全局样式：贴合附件浅灰风格 */
        body {
            font-family: "Microsoft YaHei", sans-serif;
            background: #f5f7fa;
            margin: 0;
            padding: 20px;
        }
        .page-wrapper {
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.1);
        }

        /* 顶部区域：标题 + 操作按钮 */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 20px;
            border-bottom: 1px solid #ebeef5;
        }
        .header-title {
            font-size: 18px;
            font-weight: 600;
            color: #303133;
        }
        .action-bar {
            display: flex;
            gap: 12px;
        }
        .btn {
            padding: 8px 16px;
            border-radius: 4px;
            border: none;
            cursor: pointer;
            transition: background 0.3s;
        }
        .btn-primary {
            background: #409eff;
            color: #fff;
        }
        .btn-primary:hover {
            background: #66b1ff;
        }
        .btn-default {
            background: #c0c4cc;
            color: #606266;
        }
        .btn-default:hover {
            background: #d3d6db;
        }
        .dropdown {
            position: relative;
        }
        .dropdown-toggle {
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }
        .dropdown-menu {
            display: none;
            position: absolute;
            top: 100%;
            right: 0;
            background: #fff;
            border: 1px solid #ebeef5;
            border-radius: 4px;
            min-width: 120px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .dropdown-menu li {
            padding: 8px 12px;
            color: #606266;
            cursor: pointer;
        }
        .dropdown-menu li:hover {
            background: #f8f9fa;
        }
        .dropdown:hover .dropdown-menu {
            display: block;
        }

        /* 筛选区：行内布局 + 高级筛选折叠 */
        .filter-section {
            padding: 16px 20px;
            border-bottom: 1px solid #ebeef5;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 16px;
        }
        .filter-item {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        .filter-item label {
            font-size: 12px;
            color: #909399;
        }
        .filter-input {
            padding: 6px 8px;
            border: 1px solid #dcdde0;
            border-radius: 4px;
            font-size: 14px;
            width: 200px;
        }
        .filter-input:focus {
            outline: none;
            border-color: #409eff;
        }
        .date-range {
            display: flex;
            gap: 8px;
        }
        .btn-advanced {
            background: none;
            border: none;
            color: #409eff;
            cursor: pointer;
            margin-left: auto;
        }
        .advanced-filters {
            display: none; /* 默认隐藏，点击展开 */
            width: 100%;
            margin-top: 8px;
        }

        /* 表格区：固定表头 + 滚动表体 */
        .table-container {
            overflow-x: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 1000px;
        }
        thead {
            background: #f8f9fa;
        }
        th, td {
            padding: 12px 8px;
            text-align: left;
            border-bottom: 1px solid #ebeef5;
            font-size: 14px;
            color: #303133;
        }
        th {
            font-weight: 500;
        }
        tbody tr:hover {
            background: #f8f9fa;
        }

        /* 列特殊样式：标签、状态、效果指标 */
        .tag {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            margin-right: 4px;
        }
        .status-draft {
            background: #909399;
            color: #fff;
        }
        .status-pending {
            background: #409eff;
            color: #fff;
        }
        .status-active {
            background: #67c23a;
            color: #fff;
        }
        .status-inactive {
            background: #f56c6c;
            color: #fff;
        }
        .icon {
            display: inline-block;
            width: 12px;
            height: 12px;
            margin-left: 4px;
            background-size: contain;
            vertical-align: middle;
        }
        .icon-running {
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="%2367c23a"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/></svg>') no-repeat;
        }
        .icon-stopped {
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="%23f56c6c"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/></svg>') no-repeat;
        }
        .metric-green { color: #67c23a; }
        .metric-yellow { color: #ffb600; }
        .metric-red { color: #f56c6c; }
        .action-btn {
            padding: 4px 8px;
            border-radius: 4px;
            border: none;
            cursor: pointer;
            margin-right: 4px;
            font-size: 12px;
        }
        .action-edit { background: #409eff; color: #fff; }
        .action-copy { background: #67c23a; color: #fff; }
        .action-submit { background: #ffb600; color: #fff; }
        .action-delete { background: #f56c6c; color: #fff; }
        .action-view { background: #909399; color: #fff; }
        .action-analyze { background: #409eff; color: #fff; }
        .action-disable { background: #f56c6c; color: #fff; }
        .action-enable { background: #67c23a; color: #fff; }

        /* 分页区 */
        .pagination-section {
            padding: 16px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 1px solid #ebeef5;
        }
        .pagination-controls {
            display: flex;
            gap: 8px;
        }
        .pagination-select {
            padding: 6px;
            border: 1px solid #dcdde0;
            border-radius: 4px;
        }
        .pagination-nav {
            display: flex;
            gap: 4px;
        }
        .pagination-nav a {
            padding: 6px 10px;
            border: 1px solid #dcdde0;
            border-radius: 4px;
            color: #606266;
            text-decoration: none;
        }
        .pagination-nav a:hover {
            background: #f8f9fa;
        }
        .pagination-nav .active {
            background: #409eff;
            color: #fff;
            border: none;
        }

        /* 交互反馈：弹窗、提示（模拟） */
        .confirm-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #fff;
            border: 1px solid #ebeef5;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .toast {
            display: none;
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 12px 20px;
            border-radius: 4px;
            color: #fff;
            z-index: 999;
        }
        .toast-success { background: #67c23a; }
        .toast-error { background: #f56c6c; }
    </style>
</head>
<body>
    <div class="page-wrapper">
        <!-- 顶部：标题 + 操作按钮 -->
        <div class="header">
            <div class="header-title">策略列表</div>
            <div class="action-bar">
                <button class="btn btn-primary">+ 新建策略</button>
                <div class="dropdown">
                    <button class="btn btn-default dropdown-toggle">批量操作 ▾</button>
                    <ul class="dropdown-menu">
                        <li>批量启用</li>
                        <li>批量停用</li>
                        <li>批量删除</li>
                        <li>导出列表</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- 筛选区：基础+高级筛选 -->
        <div class="filter-section">
            <!-- 基础筛选（默认展示） -->
            <div class="filter-item">
                <label>策略名称</label>
                <input type="text" class="filter-input" placeholder="模糊搜索策略名称" />
            </div>
            <div class="filter-item">
                <label>策略状态</label>
                <select class="filter-input">
                    <option>全部</option>
                    <option>草稿</option>
                    <option>待生效</option>
                    <option>已生效</option>
                    <option>已失效</option>
                </select>
            </div>
            <div class="filter-item">
                <label>生效时间范围</label>
                <div class="date-range">
                    <input type="text" class="filter-input" placeholder="开始日期" />
                    <span>-</span>
                    <input type="text" class="filter-input" placeholder="结束日期" />
                    <button class="btn btn-default" style="padding: 6px 12px;">近7天</button>
                    <button class="btn btn-default" style="padding: 6px 12px;">近30天</button>
                </div>
            </div>
            <div class="filter-item">
                <label>适用场景（多选）</label>
                <select class="filter-input" multiple>
                    <option>搜索页</option>
                    <option>商品详情页</option>
                    <option>结算页</option>
                </select>
            </div>
            <!-- 高级筛选（默认隐藏） -->
            <button class="btn-advanced" onclick="toggleAdvanced()">高级筛选 ▼</button>
            <div class="advanced-filters" id="advancedFilters">
                <div class="filter-item">
                    <label>触发事件（多选）</label>
                    <select class="filter-input" multiple>
                        <option>搜索页下滑5屏未点击</option>
                        <option>商品详情页停留超30秒</option>
                    </select>
                </div>
                <div class="filter-item">
                    <label>触达人群标签（多选）</label>
                    <select class="filter-input" multiple>
                        <option>铂金会员</option>
                        <option>美妆偏好</option>
                        <option>海南地域</option>
                    </select>
                </div>
                <div class="filter-item">
                    <label>操作人</label>
                    <select class="filter-input">
                        <option>全部</option>
                        <option>张三</option>
                        <option>李四</option>
                    </select>
                </div>
                <div class="filter-item">
                    <label>数据更新时间</label>
                    <select class="filter-input">
                        <option>全部</option>
                        <option>今天</option>
                        <option>昨天</option>
                        <option>近3天</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- 表格区：核心信息展示 -->
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>序号</th>
                        <th>策略名称</th>
                        <th>触发事件</th>
                        <th>触达人群</th>
                        <th>生效时间</th>
                        <th>策略状态</th>
                        <th>核心效果指标</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- 示例行：草稿状态 -->
                    <tr>
                        <td>1</td>
                        <td title="搜索页美妆推荐策略（超长名称演示）">搜索页美妆推荐策略（超长...）</td>
                        <td>搜索页下滑5屏未点击</td>
                        <td>
                            <span class="tag" title="铂金会员">铂金会员</span>
                            <span class="tag" title="美妆偏好">美妆偏好</span>
                            <span class="tag" title="海南地域">海南地域</span>
                        </td>
                        <td>2025-08-01 10:00</td>
                        <td><span class="tag status-draft">草稿</span></td>
                        <td><span class="metric-yellow">转化率4.2%（触达1234人）</span></td>
                        <td>
                            <button class="action-btn action-edit">编辑</button>
                            <button class="action-btn action-copy">复制</button>
                            <button class="action-btn action-submit">提交审核</button>
                            <button class="action-btn action-delete">删除</button>
                        </td>
                    </tr>
                    <!-- 示例行：待生效状态 -->
                    <tr>
                        <td>2</td>
                        <td>商品详情页挽留策略</td>
                        <td>商品详情页停留超30秒</td>
                        <td>
                            <span class="tag" title="铂金会员">铂金会员</span>
                            <span class="tag" title="美妆偏好">美妆偏好</span>
                            <span class="tag" title="新客">新客</span>
                            <span class="tag" title="...">+1</span>
                        </td>
                        <td style="color: #409eff;">2025-08-29 00:00</td>
                        <td><span class="tag status-pending">待生效</span></td>
                        <td><span class="metric-green">转化率5.5%（触达5678人）</span></td>
                        <td>
                            <button class="action-btn action-edit">编辑</button>
                            <button class="action-btn action-copy">复制</button>
                            <button class="action-btn action-enable">启用</button>
                            <button class="action-btn action-delete">删除</button>
                        </td>
                    </tr>
                    <!-- 示例行：已生效状态 -->
                    <tr>
                        <td>3</td>
                        <td>结算页满减触达策略</td>
                        <td>结算页加载完成</td>
                        <td><span class="tag" title="所有用户">所有用户</span></td>
                        <td>2025-08-01 00:00 - 2025-08-31 23:59</td>
                        <td>
                            <span class="tag status-active">已生效</span>
                            <span class="icon icon-running" title="运行中"></span>
                        </td>
                        <td><span class="metric-red">转化率2.8%（触达9012人）</span></td>
                        <td>
                            <button class="action-btn action-view">查看详情</button>
                            <button class="action-btn action-copy">复制</button>
                            <button class="action-btn action-disable">停用</button>
                            <button class="action-btn action-analyze">效果分析</button>
                        </td>
                    </tr>
                    <!-- 示例行：已失效状态 -->
                    <tr>
                        <td>4</td>
                        <td>老客回流触达策略</td>
                        <td>搜索页下滑3屏未点击 + 商品详情页停留超15秒</td>
                        <td>
                            <span class="tag" title="老客">老客</span>
                            <span class="tag" title="美妆偏好">美妆偏好</span>
                        </td>
                        <td style="color: #909399;">2025-07-01 00:00 - 2025-07-31 23:59</td>
                        <td>
                            <span class="tag status-inactive">已失效</span>
                            <span class="icon icon-stopped" title="已停用"></span>
                        </td>
                        <td><span class="metric-yellow">转化率3.8%（触达3456人）</span></td>
                        <td>
                            <button class="action-btn action-edit">编辑</button>
                            <button class="action-btn action-copy">复制</button>
                            <button class="action-btn action-enable">启用</button>
                            <button class="action-btn action-delete">删除</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- 分页区 -->
        <div class="pagination-section">
            <div class="pagination-controls">
                <span>每页行数：</span>
                <select class="pagination-select">
                    <option>10</option>
                    <option>20</option>
                    <option>50</option>
                </select>
            </div>
            <div class="pagination-nav">
                <a href="#" class="active">1</a>
                <a href="#">2</a>
                <a href="#">3</a>
                <a href="#">...</a>
                <a href="#">10</a>
                <a href="#">›</a>
            </div>
        </div>

        <!-- 交互反馈模拟：弹窗、提示 -->
        <div class="confirm-popup" id="confirmPopup">
            <p>确认停用该策略？停用后将不再触发 AI 导购触达</p>
            <div style="text-align: right; margin-top: 16px;">
                <button class="btn btn-default" onclick="hidePopup()">取消</button>
                <button class="btn btn-primary" onclick="showToast('success')">确认</button>
            </div>
        </div>
        <div class="toast toast-success" id="toastSuccess">策略已成功启用</div>
        <div class="toast toast-error" id="toastError">该策略关联的触发事件已禁用，无法启用</div>
    </div>

    <script>
        // 切换高级筛选
        function toggleAdvanced() {
            const advanced = document.getElementById('advancedFilters');
            advanced.style.display = advanced.style.display === 'none' ? 'block' : 'none';
        }
        // 模拟弹窗和提示
        function showPopup() {
            document.getElementById('confirmPopup').style.display = 'block';
        }
        function hidePopup() {
            document.getElementById('confirmPopup').style.display = 'none';
        }
        function showToast(type) {
            const toast = type === 'success' 
                ? document.getElementById('toastSuccess') 
                : document.getElementById('toastError');
            toast.style.display = 'block';
            setTimeout(() => {
                toast.style.display = 'none';
            }, 3000);
            hidePopup();
        }
        // 快捷键支持（模拟）
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.key === 'f') {
                document.querySelector('.filter-input[placeholder="模糊搜索策略名称"]').focus();
            } else if (e.key === 'Escape') {
                // 清空筛选（模拟）
                document.querySelectorAll('.filter-input').forEach(input => {
                    if (input.type === 'text') input.value = '';
                    else if (input.tagName === 'SELECT') input.selectedIndex = 0;
                });
            }
        });
    </script>
</body>
</html>